<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notaría App</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Notaría App</h1>

        <section id="login-section" class="card">
            <h2>Iniciar Sesión</h2>
            <form id="login-form">
                <label for="username">Usuario:</label>
                <input type="text" id="username" required>
                <label for="password">Contraseña:</label>
                <input type="password" id="password" required>
                <button type="submit">Entrar</button>
                <p id="login-message" class="message"></p>
            </form>
        </section>

        <section id="app-section" class="card hidden">
            <div class="header">
                <h2 id="welcome-message">Bienvenido, [Usuario]</h2>
                <button id="logout-button">Cerrar Sesión</button>
            </div>

            <div id="request-section" class="sub-section">
                <h3>Solicitar Número de Documento</h3>
                <select id="document-type-select">
                    <option value="">Selecciona tipo de documento</option>
                    </select>
                <button id="request-number-button">Solicitar Número</button>
                <p id="request-message" class="message"></p>
                <p id="assigned-number-display" class="assigned-number"></p>
            </div>

            <div id="records-section" class="sub-section hidden">
                <h3>Historial de Solicitudes</h3>
                <table id="records-table">
                    <thead>
                        <tr>
                            <th>Tipo</th>
                            <th>Número</th>
                            <th>Solicitante</th>
                            <th>Fecha/Hora</th>
                        </tr>
                    </thead>
                    <tbody>
                        </tbody>
                </table>
            </div>

            <div id="admin-section" class="sub-section hidden">
                <h3>Administración de Usuarios</h3>
                <div id="user-management-controls">
                    <h4>Crear Nuevo Usuario</h4>
                    <form id="create-user-form">
                        <label for="new-username">Usuario:</label>
                        <input type="text" id="new-username" required>
                        <label for="new-password">Contraseña:</label>
                        <input type="password" id="new-password" required>
                        <label for="new-role">Rol:</label>
                        <select id="new-role">
                            <option value="user">Usuario Normal</option>
                            <option value="admin">Administrador</option>
                        </select>
                        <label>Permisos (selecciona múltiples):</label>
                        <div class="checkbox-group">
                            <input type="checkbox" id="perm-declaracion" value="declaracion">
                            <label for="perm-declaracion">Declaración</label>
                            <input type="checkbox" id="perm-oficio" value="oficio">
                            <label for="perm-oficio">Oficio</label>
                            <input type="checkbox" id="perm-acta" value="acta">
                            <label for="perm-acta">Acta</label>
                        </div>
                        <button type="submit">Crear Usuario</button>
                        <p id="create-user-message" class="message"></p>
                    </form>

                    <h4 style="margin-top: 20px;">Gestionar Usuarios Existentes</h4>
                    <table id="user-list-table">
                        <thead>
                            <tr>
                                <th>Usuario</th>
                                <th>Rol</th>
                                <th>Permisos</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            </tbody>
                    </table>
                </div>
            </div>
            <div id="edit-user-modal" class="modal hidden">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <h2>Editar Usuario: <span id="edit-username-display"></span></h2>
                <form id="edit-user-form">
                    <input type="hidden" id="edit-user-id"> <h4>Cambiar Rol y Permisos</h4>
                    <label for="edit-role">Rol:</label>
                    <select id="edit-role">
                        <option value="user">Usuario Normal</option>
                        <option value="admin">Administrador</option>
                    </select>

                    <label>Permisos:</label>
                    <div class="checkbox-group">
                        <input type="checkbox" id="edit-perm-declaracion" value="declaracion">
                        <label for="edit-perm-declaracion">Declaración</label>
                        <input type="checkbox" id="edit-perm-oficio" value="oficio">
                        <label for="edit-perm-oficio">Oficio</label>
                        <input type="checkbox" id="edit-perm-acta" value="acta">
                        <label for="edit-perm-acta">Acta</label>
                    </div>
                    <button type="submit" id="save-permissions-button">Guardar Cambios de Rol/Permisos</button>
                    <p id="edit-permissions-message" class="message"></p>
                </form>

                <form id="change-password-form" style="margin-top: 30px;">
                    <h4>Cambiar Contraseña</h4>
                    <label for="new-password-field">Nueva Contraseña:</label>
                    <input type="password" id="new-password-field" required>
                    <button type="submit" id="save-password-button">Cambiar Contraseña</button>
                    <p id="change-password-message" class="message"></p>
                </form>
            </div>
        </div>
        </section>
    </div>
    <script src="script.js"></script>
</body>
</html>